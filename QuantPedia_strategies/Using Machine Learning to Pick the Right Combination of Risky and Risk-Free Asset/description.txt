Combining risky and risk-free assets into a portfolio is probably as old, as portfolio theory itself and maybe even older. While there are some rules like fixed 60/40 equity to bonds allocation or various optimization techniques like mean-variance optimization, the advance in machine learning algorithms offers both researchers and practitioners new opportunities. Usually, machine learning methods in the financial markets are used for a prediction of future returns or to find some optimal parameters of the strategies. For example, the optimal lookback period. This novel research utilized both aforementioned usages and times the market return and risk-free return. The main idea of the research is to find weights of investing into the risk-free asset and investing in the market, using the expected return divided by the expected volatility. The expected return is predicted by the random forest, using past payout yields (which were identified by previous research to predict equity returns) and risk-free rates. The proxy for the expected volatility is recent volatility for an optimal lookback period, and a different random forest again founds that. Random forest (consisting of multiple single trees) in general has superior predictive ability compared to a single classification tree that tends to be overfitted. The resulting strategy significantly outperforms the market, and the alpha remains economically significant even in the presence of transaction costs.

Fundamental reason
The functionality of strategies that rotate between the risk-free rate and market return lies in successful identification of optimal market conditions. The traditional approaches use past returns, moving averages, momentum or some trend-following principle. However, machine learning approaches can be used for a successful prediction of future returns with superior performance compared to more traditional regression approaches that are linear and tend to be overfitted. Therefore, the reason for the functionality is the ability of the strategy to predict future returns with enough accuracy to be profitable. Additionally, the performance is scaled by the expected volatility to navigate between risky and risk-free rate.

Moreover, also the volatility is changing and therefore, a machine learning approach can be used to find the optimal period for a lookback period that would be proxy of the current volatility. Last but not least, while the machine learning algorithms can be seen as black-boxes, there is also a need to apply a correct algorithm. For example, the random forest is less prone to overfitting compared to the single tree.

Simple trading strategy
Firstly, this is a very complex strategy from the mathematical point of view; therefore, we will appeal to the original paper many times for the exact formulation of the problems or equations. The investments universe consists of two “assets”, the market return and risk-free return from Kenneth French’s website. The weight of the equity part is equal to the minimum of two terms. Firstly, the expected value of the next month return divided by the expected volatility next month that is multiplied by a coefficient of relative risk aversion (equal to 4 in the paper) and secondly, a constant term equal to the 1,5. Therefore, the upper bound is set to 1,5 for the equity part. If the weight would be negative, the weight is set to zero (therefore the weight is the maximum of the minimum mentioned above and zero, the equation can be found at the bottom of page 16). The rest of the portfolio is invested in the risk-free rate. The expected value of the return is a weighted mix of excess returns, where weights are probabilities of positive and negative returns (obtained from random forests), the prediction accuracy of random forests and proportion of returns that were historically positive or negative (see equation 22). The probabilities are obtained from the random forest (equation 21) that use nine last values of the payout yield and past five values of risk-free rates. The expected value of the volatility is given by equation 25. The volatility estimator is defined as the standard deviation of the past N daily log returns, where the optimal N is found by regression forest (equation 24). Unfortunately, the equations are too complex to be presented there. Still, the main idea is to find weights of investing into the risk-free asset and investing in the market, using the expected return divided by the expected volatility. The strategy is rebalanced monthly.

Hedge for stocks during bear markets
No - The selected strategy is designed to time equities; therefore, it can’t be used as a hedge against market drops as most of the strategy’s performance comes from equity market premium (as the investor holds equities, therefore, his correlation to the broad equity market is very high).